<VirtualHost *:80>
        RewriteEngine On
        RewriteCond %{HTTPS} !=on
        RewriteRule ^/?(.*) https://192.168.0.247/$1 [R=301,L]
</virtualhost>
<VirtualHost *:443>
        #Edit the servername to match your own servername if using certs
        ServerName 192.168.0.247
        ServerAdmin turneri
        DocumentRoot /usr/local/apache2/htdocs
        ErrorLog /usr/local/apache2/logs/error.log
        CustomLog /usr/local/apache2/logs/access.log combined
        # Comment these out if not using TLS
        SSLEngine on
        SSLCertificateFile /usr/local/apache2/conf/certs/apache-selfsigned.crt
        SSLCertificateKeyFile /usr/local/apache2/conf/certs/apache-selfsigned.key

        ProxyPreserveHost On
        ProxyPass /webapp-api http://webapp:5000/
        ProxyPassReverse /webapp-api http://webapp:5000/
        ProxyPass /processor http://processor:8000/
        ProxyPassReverse /processor http://processor:8000/
        ProxyPass / http://homarr:7575/
        ProxyPassReverse / http://homarr:7575/


</VirtualHost>